<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Page 1</title>
<style text="style/css">
#control{
	margin-top:10px;
	margin-left:20px;
	padding:20px;
}	
div{
	float:left;
}
#leaf{
	position:absolute;
	left:400px;
	top:50px;
}
</style>
</head>
<body>
	<div id="control">
		<label>Please Input a number:</label><input id="speed" type="text" value="1"> (between 1-5)</input>
		<p>Choose animation's direction:</p>
		<input type="radio" name="direction" checked value="Top"> Top-Bottom<br>
		<input type="radio" name="direction" value="Left"> Left-Right<br>
		<br/>
		<button id="begin" onclick="doMove()">Begin animation</button>
	</div>
	<img id="leaf" src="../images/leaf.png"/>
<script text="style/javascript">
function doMove(){
	var point=0;
	var left=400;
	var top=50;
	var degree=0;
	var i=0;//the speed of rotate
	var flag;//gain radio value
	var speed=parseInt(document.getElementById("speed").value);
	var direction = document.getElementsByName("direction");
	for (i=0; i<direction.length; i++) {
		if (direction[i].checked) {
			flag=direction[i].value;
		}
	}
	if(speed>=1 && speed<=5)
	{
		if(flag=="Left"){
			dorotate(speed);
			var id=setInterval(doleafleft,10);
			
		}else{
			dorotate(speed);
			var id=setInterval(doleaftop,10);
		}
		
		
	}else{	
		alert("Please input vaild number between 1-5.");
	}
	function doleaftop(){//moving top-bottom
		if(point==0){
			top+=speed;
			degree+=i;
			leaf.style.top=top+"px";
			leaf.style.transform="rotate("+degree+"deg)";
			if(top>500){
				point=1;
			}
		}
		if(point==1){
			top-=speed;
			degree-=i;
			leaf.style.top=top+"px";
			leaf.style.transform="rotate("+degree+"deg)";
			if(top<50){
				clearInterval(id);
			}
		}
	}
	function doleafleft(){//moving left-right
		if(point==0){
		left+=speed;
		degree+=i;
		leaf.style.left=left+"px";
		leaf.style.transform="rotate("+degree+"deg)";
			if(left>900){
				point=1;
			}
		}
		if(point==1){
			left-=speed;
			degree-=i;
			leaf.style.left=left+"px";
			leaf.style.transform="rotate("+degree+"deg)";
				if(left<400){
					clearInterval(id);
				}
		}
	}
	function dorotate(speed){
		switch(speed){//value the speed of rotate
				case 1:
					i=0.1;
					break;
				case 2:
					i=0.2
					break;
				case 3:
					i=0.6
					break;
				case 4:
					i=0.8
					break;
				case 5:
					i=1
					break;
			}
	}
	
}
	
</script>
</body>
</html>